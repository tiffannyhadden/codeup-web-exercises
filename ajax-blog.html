<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ajax blog</title>
    <link rel="stylesheet" href="css/ajax-blog.css">
</head>
<body>
<h1>Blog</h1>
<div id="posts"></div>
<button id="refresh">Refresh</button>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
    (function() {
        "use strict";

        function getData() {

            console.log('hello');

            $.ajax('data/blog.json').done(function(data){

                console.log(data);

                var output = [];
                data.forEach(function(result) {
                    output += "<dl>";
                    output += "<br>" + "<strong>" + result.date  + "</strong>";
                    output += "<h2>" + result.title + "</h2>";
                    output += "<dd>" + result.content + "</dd>";
                    output += "<br>" + "<em>" +  result.categories + "</em>";
                    output += "</dl>";
                });

                $('#posts').html(output);
                return output;

            });
        }

        $("#refresh").click(function() {
            $('#insertProducts').html(getData());
            console.log('Reloaded');
        });

        getData();



    })();
</script>
<script type="application/javascript" src="js/jquery-2.2.4.js"></script>

</body>
</html>